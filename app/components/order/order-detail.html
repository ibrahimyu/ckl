<ion-view title="{{ 'view_order' | translate }}">
	<ion-nav-buttons side="right">
		<button class="button icon-left ion-edit" ui-sref="tabs.updateOrder1({ id: order.id })">
			{{ 'edit' | translate }}
		</button>
	</ion-nav-buttons>
	<ion-content class="">
		<loading-box>
			<div class="list noborder">
				<div class="item item-divider">{{ 'invoice' | translate }} #{{ order.id }}</div>
				<a class="item item-avatar item-text-wrap" ui-sref="tabs.viewProfile({ id: order.customer.id })">
					<img ng-src="{{ order.customer.avatar }}"/>
					<h2>{{ order.customer.name }}</h2>
					<p>{{ order.customer.address }}</p>
				</a>

				<div class="item" ng-show="isActive">
					<button class="button button-block" ng-click="changeStatus()">{{ 'change_status' | translate }}...</button>
					<button class="button button-block" ui-sref="tabs.updateOrder2({ id: order.id })">{{ 'edit_order' | translate }}</button>
				</div>

				<div class="item">
					{{ 'package' | translate }}
					<span class="item-note">{{ order.package.package_name }}</span>
				</div>
				<div class="item">
					{{ 'expected_delivery_date' | translate }}
					<span class="item-note">{{ order.delivery_date ? order.delivery_date : 'Waiting confirmation'}}</span>
				</div>
				<div class="item">
					{{ 'processing_by' | translate }}
					<span class="item-note">{{ order.processor.name ? order.processor.name : 'Waiting confirmation' }}</span>
				</div>
				<div class="item">
					{{ 'delivery_by' | translate }}
					<span class="item-note">{{ order.deliveryman.name ? order.deliveryman.name : 'Waiting confirmation' }}</span>
				</div>
				<div class="item">
					{{ 'status' | translate }}
					<span class="item-note">{{ order.status }}</span>
				</div>
				<div class="item">
					{{ 'weight' | translate }}
					<span class="item-note">{{ order.weight }} kg</span>
				</div>
				<div class="item">
					{{ 'amount' | translate }}
					<span class="item-note">{{ order.amount_due | currency: 'Rp ' }}</span>
				</div>

			</div>

			<div class="list noborder" style="margin-bottom: 50px" ng-show="isActive">

				<div class="item item-divider">{{ 'items' | translate }}</div>

				<div class="item">
					<button class="button button-block" ui-sref="tabs.updateOrder1({ id: order.id })">{{ 'edit_items' | translate }}</button>
				</div>

				<div class="item" ng-repeat="item in order.details">
					{{ item.type }}
					<span class="item-note">{{ item.pivot.qty }} pcs</span>
				</div>


			</div>
		</loading-box>
	</ion-content>
</ion-view>
